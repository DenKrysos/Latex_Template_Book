%________________________________________________________________________
%------------------------------------------------------------------------
%							listings - Setup. Source-Code Einbindung.
%/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
\newcommand{\lstC}[1]{\lstinline[language=C,breaklines=true,basicstyle=\listingsfontinline]$#1$}
% Colors etc. to get the Eclipse Look
% \newfontfamily\listingsfont[Scale=0.7]{Courier} 
% \newfontfamily\listingsfontinline[Scale=0.8]{Courier New} 
\definecolor{eclipse_comment}{rgb}{0.12, 0.38, 0.18 } %adjusted, in Eclipse: {0.25, 0.42, 0.30 } = #3F6A4D
\definecolor{eclipse_keyword1}{RGB}{128, 0, 40}  % red
\definecolor{eclipse_keyword2}{RGB}{155,40,128} %purple
\definecolor{eclipse_keyword3}{RGB}{0,120,10} %green
\definecolor{eclipse_string}{rgb}{0.06, 0.10, 0.98} % #101AF9
\def\lstsmallmath{\leavevmode\ifmmode \scriptstyle \else  \fi}
\def\lstsmallmathend{\leavevmode\ifmmode  \else  \fi}
%-----------
\definecolor{lstbg}{RGB}{230,230,230}
\lstset{language=C,texcl=true}
% Basic lstset (optical settings)
% \lstset{
% 	numbers=left,
% 	numberstyle=\tiny,
% 	numbersep=5pt,
% 	tabsize=4,
% 	xleftmargin=0em,
% 	backgroundcolor=\color{lstbg},
% 	keywordstyle=\bfseries\ttfamily\color{blue},
% 	stringstyle=\color{green}\ttfamily,
% 	commentstyle=\color{gray}\ttfamily,
% }
% lstset for Look like Eclipse
\lstset{
	frame=shadowbox,
	numbers=left,
	numberstyle=\tiny,
	numbersep=5pt,
	showspaces=false,
	showtabs=false,
	tabsize=2,
	breaklines=true,
	keepspaces=true,
% 	basicstyle=\listingsfont,
	captionpos=b,
	xleftmargin=0em,
	xrightmargin=0.3em,
	backgroundcolor=\color{lstbg},
	keywordstyle=\color{eclipse_keyword1}\bfseries,
	keywordstyle=[2]\color{eclipse_keyword2}\bfseries,
	keywordstyle=[3]\color{eclipse_keyword3}\bfseries,
	keywordstyle=[9]\color{red}\bfseries,
	stringstyle=\color{eclipse_string},
	commentstyle=\color{eclipse_comment}\itshape,
	escapebegin={\lstsmallmath}, escapeend={\lstsmallmathend}
}
\lstset{%
	inputencoding=utf8,%
	extendedchars=true,%
	literate=%
		{ß}{{\ss}}2%
		{ö}{{\"o}}1%
		{ä}{{\"a}}1%
		{ü}{{\"u}}1%
		{Ö}{{\"O}}1%
		{Ä}{{\"A}}1%
		{Ü}{{\"U}}1%
		{>>}{{\guillemotright}}1%
		{»}{{\guillemotright}}1%
		{<<}{{\guillemotleft}}1%
		{«}{{\guillemotleft}}1,%
}%
% Zusätzliche Hervorherbungen (for every language)
\lstset{
	emph={%  
    	critical,
    	section
    },
    emphstyle={\color{red}\bfseries}%\underbar}%
}%
\lstdefinelanguage{C_var}
{
	language=C,
	morecomment=[l]{//},
	morekeywords={
		strlen,
	},
	morekeywords=[2]{
		malloc,
		recv,
		send,
		sem_init,
		sem_wait,
		sem_post,
		sem_getvalue,
		sem_destroy,
		raise,
		signal,
		pthread_create,
		pthread_join,
		pthread_detach,
		pthread_cancel,
		pthread_setcancelstate,
		pcap_breakloop,
		pcap_close
	},
	morekeywords=[3]{
		int8_t,
		uint8_t,
		int16_t,
		uint16_t,
		int32_t,
		uint32_t,
		int64_t,
		uint64_t,
		int128_t,
		uint128_t,
		uintptr_t,
		sem_t,
		pthread_t
	},
	morekeywords=[9]{
		critical section
	},
}
%Additional languages with keywords
\lstdefinelanguage{semaphore}
{
	morekeywords={
		type,
		record,
		end,
		if,
		then,
		else,
		loop
	},
	morekeywords=[2]{
		wait,
		signal,
		await,
		advance,
		sem_wait,
		sem_post,
		sem_init,
		sem_getvalue
	},
	morekeywords=[3]{
		val
	},
	morekeywords=[4]{
		ticket
	},
	sensitive=true,
	morecomment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]",
	morestring=[b]',
	keywordstyle=\bfseries\ttfamily\color{blue},
	keywordstyle=[2]\bfseries\ttfamily\color{teal},
	keywordstyle=[3]\bfseries\ttfamily\color{olive},
	keywordstyle=[4]\bfseries\ttfamily\color{olive},
	stringstyle=\color{green}\ttfamily,
}
%/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\
%							Listings fertig
%------------------------------------------------------------------------
%________________________________________________________________________